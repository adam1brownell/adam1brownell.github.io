---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';
---

<!doctype html>
<html lang="en">
  <head>
    <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
    <link rel="stylesheet" href="/css/main.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="/js/skel.min.js"></script>
    <script src="/js/jquery.scrollex.min.js"></script>
    <script src="/js/jquery.scrolly.min.js"></script>
    <script>
      (function($) {
        $(function() {
          var $window = $(window),
              $body = $('body'),
              $banner = $('#banner');

          // Add loading class initially
          $body.addClass('is-loading');

          // Remove loading class once page is fully loaded
          $window.on('load', function() {
            setTimeout(function() {
              $body.removeClass('is-loading');
              $('header').addClass('visible');
              console.log('Page fully loaded, removed is-loading class');
            }, 100);
          });

          // Parallax animation for #banner only
          $banner.scrollex({
            mode: 'middle',
            delay: 200,
            enter: function() {
              $(this).addClass('visible');
              console.log('#banner entered viewport');
            },
            leave: function() {
              $(this).removeClass('visible');
              console.log('#banner left viewport');
            }
          });
        });
      })(jQuery);
    </script>
    <style>
      *, *::before, *::after {
        box-sizing: border-box;
      }

      html, body, main {
        height: 100%;
        width: 100%;
        margin: 0;
        padding: 0;
        overflow-x: hidden;
        max-width: 100vw;
      }

      #banner.parallax-section {
        background-size: cover;
        background-position: center;
        min-height: 100vh;
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        padding: 0;
        margin: 0;
        position: relative;
        overflow: hidden;
        background-image: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('/images/banner_griff.jpg');
      }

      .inner {
        width: 100%;
        max-width: none;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body class="landing">
    <main>
      <section id="banner" class="parallax-section" style="background-image: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('/images/banner_griff.jpg'); background-size: cover; background-position: center; min-height: 100vh; width: 100%; display: flex; align-items: center; justify-content: center; text-align: center; padding: 0; margin: 0; position: relative; overflow: hidden;">
        <div class="inner">
          <h2>Adam Brownell</h2>
          <p>data nerd.</p>
          <p>Plus some machine-learning & story-telling.</p>
          <ul class="actions">
            <li><a href="/myblog/" class="button fit special">Blog</a></li>
            <li><a href="/projects/" class="button fit special">Projects</a></li>
          </ul>
        </div>
        <a href="#projects" class="more scrolly"></a>
      </section>
      <section id="contact" class="parallax-section">
        <p>contact me: adam1brownell (at) gmail (dot) com</p>
        <ul class="actions">
          <li><a href="https://www.linkedin.com/in/adam-brownell-581a89b5/" class="button fit special">Linkedin</a></li>
        </ul>
      </section>
    </main>
    <Footer />
  </body>
</html>